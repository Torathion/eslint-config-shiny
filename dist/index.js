import{open as _}from"node:fs/promises";var g=process.cwd(),P={plugins:{},rules:[],files:[],ignores:[],languageOptions:{ecmaVersion:"latest",sourceType:"module",globals:{},parser:{}},linterOptions:{},processor:[],settings:{},apply:{},extends:[]};var W={arrowParens:"arrow-parens",bracketSpacing:"block-spacing",endOfLine:"linebreak-style",quoteProps:"quote-props",semi:"semi",singleQuote:"quotes",trailingComma:"comma-dangle"},N=["block-spacing","comma-dangle","quotes","quote-props"],V={printWidth:"code",tabWidth:"tabWidth"},H=["printWidth","tabWidth"],I=["avoid","false","none","preserve"],U=["plugins","bracketSameLine","parser","editorconfig","embeddedLanguageFormatting","experimentalTernaries","jsxBracketSameLine","jsxSingleQuote","singleAttributePerLine","useTabs","vueIndentScriptAndStyle","htmlWhitespaceSensitivity","proseWrap","insertPragma","requirePragma","filepath","rangeStart","rangeEnd"],S="@stylistic/js",B="@stylistic/ts",O=`${S}/max-len`;function D(e,t,r){let n=e[O];n||(n=e[O]=[2,{}]),n[1][V[t]]=r}function J(e,t,r,n){switch(r){case"semi":e[`${t}/member-delimiter-style`]=[2,{multiline:{delimiter:n?"none":"semi"},singleline:{delimiter:"semi",requireLast:!1}}];break}}function Q(e,t,r){typeof r=="boolean"&&(r=`${r}`);let n=I.includes(r),o=W[t],i=N.includes(o)?B:S,s=0;switch(o){case"block-spacing":s=[2,n?"never":"always"],e[`${i}/object-curly-spacing`]=s;break;case"arrow-parens":case"quote-props":s=n?0:[2,r];break;case"semi":s=[2,n?"never":"always"];break;case"quotes":s=[2,n?"double":"single",{avoidEscape:!0}];break;case"comma-dangle":n?s=[2,"never"]:s=[2,r==="all"?"always":"only-multiline"];break;case"linebreak-style":s=[2,r==="lf"?"unix":"windows"];break;default:throw new Error(`Unknown prettier option ${t}.`)}e[`${i}/${o}`]=s,J(e,i,o,n)}async function j(){let e,t={};try{e=await _(`${g}/.prettierrc`,"r")}catch{return t}let r=JSON.parse((await e.readFile()).toString());for(let n of Object.keys(r))U.includes(n)||(H.includes(n)?D(t,n,r[n]):Q(t,n,r[n]));return await e.close(),t}import{fdir as z}from"fdir";async function k(){let t=await new z().withFullPaths().withMaxDepth(1).crawl(g).withPromise(),r=t.length,n=[],o;for(let i=0;i<r;i++)o=t[i],o.includes("tsconfig")&&o.includes("json")&&n.push(o);return{languageOptions:{parserOptions:{project:n}}}}import{open as K}from"node:fs/promises";async function A(){let e,t=[];try{e=await K(`${g}/.gitignore`,"r")}catch{return[...new Set(t)]}for await(let r of e.readLines())!r.length||r[0]==="#"||(r[0]==="*"&&r[1]==="."?t.push(r,`**/${r}`):t.push(r,r[0]==="!"||r[0]==="/"?`${r}/**`:`**/${r}/**`));return await e.close(),[...new Set(t)]}import{dirname as re}from"node:path";import{fileURLToPath as ne}from"node:url";var X=["angular","web","cypress","format","fp","jest","json","node","react","base","test-base","test-angular","test-web","test-react","test-vue","tsdoc","vitest","vue"];function x(e){return X.includes(e)}function p(e){return e?Array.isArray(e)?e:[e]:[]}function c(e,t){return Array.prototype.push.apply(e,t),e}function T(e,t){let r=e.length,n=new Array(r);for(let o=0;o<r;o++)n[o]=e[o][t]??{};return n}function Y(e,t,r){if(t[r]){let n=e[r].slice();c(n,t[r]),e[r]=n}}function Z(e,t){e.languageOptions=Object.assign({},...T(t,"languageOptions"));let r=t.length,n=p(e.languageOptions.globals),o;for(let i=0;i<r;i++)o=t[i],o.languageOptions?.globals&&c(n,p(o.languageOptions.globals))}var ee=["apply","linterOptions","plugins","settings"],te=["files","ignores","rules","processor"];function b(...e){let t=Object.assign({},P);if(!e.length)return t;Z(t,e);for(let o of ee)t[o]=Object.assign({},...T(e,o));let r=e.length,n;for(let o=0;o<r;o++){n=e[o];for(let i of te)Y(t,n,i)}return t}var y=new Map;async function $(e){if(console.log(`Fetch ${e}!`),y.has(e))return y.get(e);let t=await import(`file://${re(ne(import.meta.url))}/profiles/${e}.js`);return y.set(e,t.config),t.default??t.config}function oe(e){let t={};return e.parserOptions?t={parserOptions:e.parserOptions}:e.languageOptions&&(t=e.languageOptions),{files:e.files,ignores:e.ignores,languageOptions:t,linterOptions:e.linterOptions,plugins:e.plugins,processor:p(e.processor),settings:e.settings,rules:p(e.rules)}}async function ie(e,t){let r;if(typeof e=="string"&&x(e))if(y.has(e))r=y.get(e);else{let n=await $(e);Array.isArray(n)?(r=n.shift(),c(t,n)):r=n}else typeof e!="string"&&(r=oe(e));return r}async function E(e,t){if(!e.extends)return e;let r=e.extends.length,n=e,o;for(let i=0;i<r;i++)o=await ie(e.extends[i],t),o&&(o.extends&&(o=await E(o,t)),n=b(n,o),o=void 0);return n}async function se(e){if(!e.length)return[];let t=[];for(let r=0;r<e.length;r++)t.push(await E(e[r],e));return t}async function C(e){let t=e.configs,r=t.length,n=new Array(r);console.log(t);for(let i=0;i<r;i++)n[i]=$(t[i]);let o=await Promise.all(n);return console.log(o),await se(o.flat())}function h(...e){return Object.assign({},...e)}var Ne=["**/node_modules","**/dist","**/build","**/bin","**/package-lock.json","**/yarn.lock","**/pnpm-lock.yaml","**/bun.lockb","**/output","**/coverage","**/temp","**/.temp","**/tmp","**/.tmp","**/.history","**/.vitepress/cache","**/.nuxt","**/.next","**/.vercel","**/.changeset","**/.idea","**/.vscode","**/.cache","**/.env","**/.output","**/.vite-inspect","**/.yarn","**/CHANGELOG*.md","**/*.min.*","**/LICENSE*","**/__snapshots__","**/*.d.ts"],u="?([cm])[jt]s?(x)",Ve="**/*.{c,le,sc,sa}ss",He=`**/*${u}`,Ie=[`**/__tests__/**/*.${u}`,`**/*.spec.${u}`,`**/*.test.${u}`,`**/*.bench.${u}`,`**/*.benchmark.${u}`];function L(e,t){let r=t.length;if(!r||!e.length)return e.slice();let n;for(let o=0;o<r;o++)if(n=e.indexOf(t[o]),n>-1&&e.splice(n,1),!e.length)return[];return e.slice()}var le=["brace-style","no-extra-parens","object-curly-spacing","quote-props"],Je=["array-bracket-newline","array-bracket-spacing","array-element-newline","max-attributes-per-line","singleline-html-element-content-newline"],Qe=[...le,"arrow-parens","indent","semi","quotes","lines-around-comment","padding-line-between-statements","space-before-function-paren"],ze=["class-methods-use-this","consistent-return","dot-notation","default-param-last","no-array-constructor","no-loop-func","no-loss-of-precision","no-redeclare","no-throw-literal","no-unused-vars","no-unused-expressions","no-use-before-define","no-useless-constructor","prefer-const","require-await"],ae=["comma-spacing","func-call-spacing","key-spacing","keyword-spacing","lines-between-class-members","no-extra-semi","space-before-blocks","space-infix-ops"],Ke=["type-annotation-spacing"],Xe=[...L(ae,["lines-between-class-members","no-extra-semi","space-before-blocks"]),"block-spacing","func-call-spacing"],Ye=["arrow-spacing","eol-last","no-trailing-spaces","space-in-parens"],Ze=["jsx-closing-bracket-location","jsx-closing-tag-location","jsx-equals-spacing","jsx-indent","jsx-indent-props","jsx-no-multi-spaces","jsx-self-closing-comp","jsx-tag-spacing","jsx-wrap-multilines"];function w(e){return!!e.configs.recommended}function v(e){let t=Object.keys(e),r=t.length,n={...P},o,i;for(let s=0;s<r;s++)o=t[s],i=e[o],n.plugins[o]=i,w(i)&&(n.rules=Object.assign(n.rules,i.configs.recommended.rules));return n}function m(e,t){return e==="eslint"?t:`${e}/${t}`}function F(e,t){let r=e.length,n=t.length,o={},i,s;for(let a=0;a<n;a++)for(i=t[a],s=0;s<r;s++)o[m(i,e[s])]=0;return o}function q(e){let t=new Map,r=e.length,n=`merged-processor:${e[0].meta?.name??"unknown"}`;for(let o=1;o<r;o++)n=`${n}+${e[o].meta?.name??"unknown"}`;return{meta:{name:n},supportsAutofix:!0,preprocess(o,i){let s=new Array(r),a=[];t.set(i,s);let l;for(let f=0;f<r;f++)l=e[f].preprocess?.(o,i)??[],s[f]=l.length,c(a,l);return a},postprocess(o,i){let s=t.get(i),a=[];t.delete(i);let l=0,f;for(let d=0;d<r;d++)f=o.slice(l,l+s[d]),l+=s[d],c(a,e[d].postprocess?.(f,i)??[]);return a}}}function R(e){return Object.hasOwn(e,"rules")||Object.hasOwn(e,"plugins")}function G(...e){let t=e.length,r=new Array(t),n;for(let o=t-1;o>=0;o--)n=e[o],r[o]=R(n)?n.rules:n;return h(...r)}function M(e,t,r){let n=e.length,o=t.length,i=r.length,s={},a,l;for(let f=0;f<n;f++){for(a=e[f],l=0;l<o;l++)s[m(t[l],a)]=0;for(l=0;l<i;l++)s[m(r[l],a)]=2}return s}var fe={configs:["base"],prettier:!0,gitignore:!0,eslintignore:!0};async function ce(e){let t=Object.assign({},fe,e);if(!t.configs.length)return;let r=await C(t);console.log("------ FINAL --------"),console.log(r),console.log(Array.from(new Set(r[0].languageOptions?.globals)).length),console.log(r.length)}export{Ye as DeprecatedStyleList,P as EmptyProfileConfig,ae as EsStyleReplaceList,ze as EsTsReplaceList,Ne as ExcludeGlobs,u as ExtensionGlob,Qe as GeneralBanList,Ze as JsxStyleReplaceList,He as SrcGlob,Ve as StyleGlob,Xe as StyleVueReplaceList,Ie as TestGlobs,Ke as TsStyleReplaceList,le as VueBanList,Je as VueStyleBanList,v as apply,j as applyPrettier,F as ban,g as cwd,ce as default,k as findTSConfigs,h as merge,c as mergeArr,b as mergeConfig,q as mergeProcessors,G as mergeRules,A as parseGitignore,M as replace};
//# sourceMappingURL=index.js.map
