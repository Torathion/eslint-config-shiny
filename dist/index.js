import{open as J}from"node:fs/promises";var m=process.cwd(),M={apply:{},extends:[],files:[],ignores:[],languageOptions:{ecmaVersion:"latest",globals:{},parser:{},sourceType:"module"},linterOptions:{},plugins:{},rules:[],settings:{}};var Q={arrowParens:"arrow-parens",bracketSpacing:"block-spacing",endOfLine:"linebreak-style",quoteProps:"quote-props",semi:"semi",singleQuote:"quotes",trailingComma:"comma-dangle"},z=new Set(["block-spacing","comma-dangle","quotes","quote-props"]),X={printWidth:"code",tabWidth:"tabWidth"},Y=new Set(["printWidth","tabWidth"]),Z=new Set(["avoid","false","none","preserve"]),K=new Set(["plugins","bracketSameLine","parser","editorconfig","embeddedLanguageFormatting","experimentalTernaries","jsxBracketSameLine","jsxSingleQuote","singleAttributePerLine","useTabs","vueIndentScriptAndStyle","htmlWhitespaceSensitivity","proseWrap","insertPragma","requirePragma","filepath","rangeStart","rangeEnd"]),W="@stylistic/js",ee="@stylistic/ts",_=`${W}/max-len`;function te(e,t,r){let i=e[_];i||(i=e[_]=[2,{}]),i[1][X[t]]=r}function re(e,t,r,i){switch(r){case"semi":e["@stylistic/ts/member-delimiter-style"]=[2,{multiline:{delimiter:i?"none":"semi"},singleline:{delimiter:"semi",requireLast:!1}}];break}}function ne(e,t,r){typeof r=="boolean"&&(r=`${r}`);let i=Z.has(r),n=Q[t],o=z.has(n)?ee:W,s=0;switch(n){case"block-spacing":s=[2,i?"never":"always"],e[`${o}/object-curly-spacing`]=s;break;case"arrow-parens":case"quote-props":s=i?0:[2,r];break;case"semi":s=[2,i?"never":"always"];break;case"quotes":s=[2,i?"double":"single",{avoidEscape:!0}];break;case"comma-dangle":s=i?[2,"never"]:[2,r==="all"?"always":"only-multiline"];break;case"linebreak-style":s=[2,r==="lf"?"unix":"windows"];break;default:throw new Error(`Unknown prettier option ${t}.`)}e[`${o}/${n}`]=s,re(e,o,n,i)}async function L(){let e,t={};try{e=await J(`${m}/.prettierrc`,"r")}catch{return t}let r=JSON.parse((await e.readFile()).toString());for(let i of Object.keys(r))K.has(i)||(Y.has(i)?te(t,i,r[i]):ne(t,i,r[i]));return await e.close(),{rules:[t]}}import{fdir as ie}from"fdir";async function w(){let t=await new ie().withFullPaths().withMaxDepth(1).crawl(m).withPromise(),r=t.length,i=[],n;for(let o=0;o<r;o++)n=t[o],n.includes("tsconfig")&&n.includes("json")&&i.push(n);return{languageOptions:{parserOptions:{project:i}}}}import{open as oe}from"node:fs/promises";async function O(){let e,t=[];try{e=await oe(`${m}/.gitignore`,"r")}catch{return{ignores:t}}for await(let r of e.readLines())!r.length||r[0]==="#"||(r[0]==="*"&&r[1]==="."?t.push(r,`**/${r}`):t.push(r,r[0]==="!"||r[0]==="/"?`${r}/**`:`**/${r}/**`));return await e.close(),{ignores:[...new Set(t)]}}import{dirname as ge}from"node:path";import{fileURLToPath as ue}from"node:url";var se=new Set(["angular","web","cypress","format","fp","jest","json","node","react","base","test-base","test-angular","test-web","test-react","test-vue","tsdoc","vitest","vue"]);function k(e){return se.has(e)}function c(e){return e?Array.isArray(e)?e:[e]:[]}function p(e,t){return Array.prototype.push.apply(e,t),e}function A(e,t,r){let i=e.length,n=new Array(i),o;for(let s=0;s<i;s++)o=e[s][t],o||(o={}),r&&o[r]&&(o=o[r]),n[s]=o;return n}function ae(e,t,r){if(t[r]){let i=e[r]?.slice()??[];p(i,t[r]),e[r]=i}}function le(e,t){let r=t.length,i=Array.isArray(e.project)?e.project:[],n;for(let o=0;o<r;o++)n=t[o],n.languageOptions?.parserOptions?.project&&p(i,n.languageOptions.parserOptions.project);e.project=[...new Set(i)]}function fe(e,t){let r=e.languageOptions=Object.assign({},...A(t,"languageOptions"));r.parserOptions||(r.parserOptions={});let i=r.parserOptions;le(i,t),r.parserOptions=Object.assign({},i??{},...A(t,"languageOptions","parserOptions"));let n=t.length,o=c(r.globals),s;for(let a=0;a<n;a++)s=t[a],s.languageOptions?.globals&&p(o,c(s.languageOptions.globals))}var pe=["apply","linterOptions","plugins","settings"],ce=["files","ignores","rules","processor"];function d(...e){let t=Object.assign({},M);if(!e.length)return t;fe(t,e);for(let n of pe)t[n]=Object.assign({},...A(e,n));let r=e.length,i;for(let n=0;n<r;n++){i=e[n];for(let o of ce)ae(t,i,o)}return t}var b=new Map;async function B(e){if(b.has(e))return b.get(e);let t=await import(`file://${ge(ue(import.meta.url))}/profiles/${e}.js`);return b.set(e,t.config),t.default??t.config}function me(e){let t={};return e.parserOptions?t={parserOptions:e.parserOptions}:e.languageOptions&&(t=e.languageOptions),{files:e.files,ignores:e.ignores,languageOptions:t,linterOptions:e.linterOptions,plugins:e.plugins,processor:e.processor?c(e.processor):void 0,rules:c(e.rules),settings:e.settings}}async function de(e,t){let r;if(typeof e=="string"&&k(e))if(b.has(e))r=b.get(e);else{let i=await B(e);Array.isArray(i)?(r=i.shift(),p(t,i)):r=i}else typeof e!="string"&&(r=me(e));return r}async function V(e,t){if(!e.extends)return e;let r=e.extends.length,i=e,n;for(let o=0;o<r;o++)n=await de(e.extends[o],t),n&&(n.extends&&(n=await V(n,t)),i=d(n,i),n=void 0);return i}async function Pe(e){if(!e.length)return[];let t=[];for(let r=0;r<e.length;r++)t.push(await V(e[r],e));return t}async function E(e){let t=e.configs,r=t.length,i=new Array(r);for(let o=0;o<r;o++)i[o]=B(t[o]);let n=await Promise.all(i);return await Pe(n.flat())}function T(e,t){let r=t.length;if(!r||!e.length)return e.slice();let i;for(let n=0;n<r;n++)if(i=e.indexOf(t[n]),i>-1&&e.splice(i,1),!e.length)return[];return e.slice()}var ye=["brace-style","no-extra-parens","object-curly-spacing","quote-props"],Ke=["array-bracket-newline","array-bracket-spacing","array-element-newline","max-attributes-per-line","singleline-html-element-content-newline"],D=[...ye,"arrow-parens","indent","semi","quotes","lines-around-comment","padding-line-between-statements","space-before-function-paren"],H=["class-methods-use-this","consistent-return","dot-notation","default-param-last","no-array-constructor","no-loop-func","no-loss-of-precision","no-redeclare","no-throw-literal","no-unused-vars","no-unused-expressions","no-use-before-define","no-useless-constructor","require-await"],F=["comma-spacing","func-call-spacing","key-spacing","keyword-spacing","lines-between-class-members","no-extra-semi","space-before-blocks","space-infix-ops"],N=["type-annotation-spacing"],et=[...T(F,["lines-between-class-members","no-extra-semi","space-before-blocks"]),"block-spacing","func-call-spacing"],U=["arrow-spacing","eol-last","no-trailing-spaces","space-in-parens"],tt=["jsx-closing-bracket-location","jsx-closing-tag-location","jsx-equals-spacing","jsx-indent","jsx-indent-props","jsx-props-no-multi-spaces","jsx-self-closing-comp","jsx-tag-spacing","jsx-wrap-multilines"];function g(...e){return Object.assign({},...e)}function v(e){return!!e.configs.recommended}function R(e){let t=Object.keys(e),r=t.length,i={plugins:{},rules:{}},n,o;for(let s=0;s<r;s++)n=t[s],o=e[n],i.plugins[n]=o,v(o)&&(i.rules=Object.assign(i.rules,o.configs.recommended.rules));return i}function $(e){return Object.hasOwn(e,"rules")||Object.hasOwn(e,"plugins")}function C(...e){let t=e.length,r=new Array(t),i;for(let n=t-1;n>=0;n--)i=e[n],r[n]=$(i)?i.rules:i;return g(...r)}function P(e,t){return e==="eslint"?t:`${e}/${t}`}function S(e,t){let r=e.length,i=t.length,n={},o,s;for(let a=0;a<i;a++)for(o=t[a],s=0;s<r;s++)n[P(o,e[s])]=0;return n}function u(e,t,r){let i=e.length,n=t.length,o=r.length,s={},a,l;for(let f=0;f<i;f++){for(a=e[f],l=0;l<n;l++)s[P(t[l],a)]=0;for(l=0;l<o;l++)s[P(r[l],a)]=2}return s}function j(e){let t=new Map,r=e.length,i=`merged-processor:${e[0].meta?.name??"unknown"}`;for(let n=1;n<r;n++)i=`${i}+${e[n].meta?.name??"unknown"}`;return{meta:{name:i},postprocess(n,o){let s=t.get(o),a=[];t.delete(o);let l=0,f;for(let h=0;h<r;h++)f=n.slice(l,l+s[h]),l+=s[h],p(a,e[h].postprocess?.(f,o)??[]);return a},preprocess(n,o){let s=new Array(r),a=[];t.set(o,s);let l;for(let f=0;f<r;f++)l=e[f].preprocess?.(n,o)??[],s[f]=l.length,p(a,l);return a},supportsAutofix:!0}}var ht=["**/node_modules","**/dist","**/build","**/bin","**/package-lock.json","**/yarn.lock","**/pnpm-lock.yaml","**/bun.lockb","**/output","**/coverage","**/temp","**/.temp","**/tmp","**/.tmp","**/.history","**/.vitepress/cache","**/.nuxt","**/.next","**/.vercel","**/.changeset","**/.idea","**/.vscode","**/.cache","**/.env","**/.output","**/.vite-inspect","**/.yarn","**/CHANGELOG*.md","**/*.min.*","**/LICENSE*","**/__snapshots__","**/*.d.ts"],y="?([cm])[jt]s?(x)",bt="**/*.{c,le,sc,sa}ss",I=`**/*${y}`,Ct=[`**/__tests__/**/*.${y}`,`**/*.spec.${y}`,`**/*.test.${y}`,`**/*.bench.${y}`,`**/*.benchmark.${y}`];function x(e){for(let t in e)return!1;return!0}function he(e){let t=e.languageOptions;if(!t||x(t))return!0;if(t.parserOptions){let r=t.parserOptions;return x(r)?!0:r.project&&!r.project.length}return x(t.globals)}function be(){return[S(D,["eslint","@typescript-eslint","@stylistic/ts"]),u(H,["eslint"],["@typescript-eslint"]),u(F,["eslint","@typescript-eslint"],["@stylistic/ts"]),u(U,["eslint"],["@stylistic/js"]),u(N,["@typescript-eslint"],["@stylistic/ts"])]}function G(e,t){let r=e.length,i=new Array(r),n,o;for(let s=0;s<r;s++)n=e[s],o=n.apply?R(n.apply):{},n.files?.length?o.files=n.files:t?o.files=e[0].files:o.files=[I],o.ignores=n.ignores,n.languageOptions&&(o.languageOptions=n.languageOptions,o.languageOptions.globals=g(...new Set(c(n.languageOptions.globals))),delete o.languageOptions?.parserOptions.globals),he(o)&&delete o.languageOptions,o.linterOptions=n.linterOptions,o.settings=n.settings,n.processor&&(o.processor=j(n.processor)),o.plugins=g(o.plugins??{},n.plugins??{}),o.rules=C(o.rules??{},...n.rules??[]),t&&s===0&&(o.rules=C(o.rules,...be())),i[s]=o;return i}var Ce=new Set(["base","fp","react","vue","angular","node","test-base","test-angular","test-react","test-vue","test-web"]);function q(e){let t=!1;for(let r=e.configs.length-1;r>=0;r--)if(Ce.has(e.configs[r])){t=!0;break}return t}var xe={configs:["base"],eslintignore:!0,gitignore:!0,prettier:!0};async function Le(e){let t=Object.assign({},xe,e);if(!t.configs.length)return[];let r=q(t),i=[E(t),w()];r&&t.prettier&&i.push(L()),t.gitignore&&i.push(O());let n=await Promise.all(i),o=n.shift();return o.unshift(d(o.shift(),...n)),G(o,r)}export{U as DeprecatedStyleList,M as EmptyProfileConfig,F as EsStyleReplaceList,H as EsTsReplaceList,ht as ExcludeGlobs,y as ExtensionGlob,D as GeneralBanList,tt as JsxStyleReplaceList,I as SrcGlob,bt as StyleGlob,et as StyleVueReplaceList,Ct as TestGlobs,N as TsStyleReplaceList,ye as VueBanList,Ke as VueStyleBanList,R as apply,L as applyPrettier,S as ban,m as cwd,Le as default,w as findTSConfigs,g as merge,p as mergeArr,d as mergeConfig,j as mergeProcessors,C as mergeRules,O as parseGitignore,u as replace};
//# sourceMappingURL=index.js.map
