import{open as N}from"node:fs/promises";var m=process.cwd(),v={plugins:{},rules:[],files:[],ignores:[],languageOptions:{ecmaVersion:"latest",sourceType:"module",globals:{},parser:{}},linterOptions:{},settings:{},apply:{},extends:[]};var U={arrowParens:"arrow-parens",bracketSpacing:"block-spacing",endOfLine:"linebreak-style",quoteProps:"quote-props",semi:"semi",singleQuote:"quotes",trailingComma:"comma-dangle"},I=["block-spacing","comma-dangle","quotes","quote-props"],J={printWidth:"code",tabWidth:"tabWidth"},Q=["printWidth","tabWidth"],z=["avoid","false","none","preserve"],K=["plugins","bracketSameLine","parser","editorconfig","embeddedLanguageFormatting","experimentalTernaries","jsxBracketSameLine","jsxSingleQuote","singleAttributePerLine","useTabs","vueIndentScriptAndStyle","htmlWhitespaceSensitivity","proseWrap","insertPragma","requirePragma","filepath","rangeStart","rangeEnd"],G="@stylistic/js",X="@stylistic/ts",q=`${G}/max-len`;function Y(e,r,n){let t=e[q];t||(t=e[q]=[2,{}]),t[1][J[r]]=n}function Z(e,r,n,t){switch(n){case"semi":e["@stylistic/ts/member-delimiter-style"]=[2,{multiline:{delimiter:t?"none":"semi"},singleline:{delimiter:"semi",requireLast:!1}}];break}}function ee(e,r,n){typeof n=="boolean"&&(n=`${n}`);let t=z.includes(n),i=U[r],o=I.includes(i)?X:G,s=0;switch(i){case"block-spacing":s=[2,t?"never":"always"],e[`${o}/object-curly-spacing`]=s;break;case"arrow-parens":case"quote-props":s=t?0:[2,n];break;case"semi":s=[2,t?"never":"always"];break;case"quotes":s=[2,t?"double":"single",{avoidEscape:!0}];break;case"comma-dangle":t?s=[2,"never"]:s=[2,n==="all"?"always":"only-multiline"];break;case"linebreak-style":s=[2,n==="lf"?"unix":"windows"];break;default:throw new Error(`Unknown prettier option ${r}.`)}e[`${o}/${i}`]=s,Z(e,o,i,t)}async function x(){let e,r={};try{e=await N(`${m}/.prettierrc`,"r")}catch{return r}let n=JSON.parse((await e.readFile()).toString());for(let t of Object.keys(n))K.includes(t)||(Q.includes(t)?Y(r,t,n[t]):ee(r,t,n[t]));return await e.close(),{rules:[r]}}import{fdir as te}from"fdir";async function L(){let r=await new te().withFullPaths().withMaxDepth(1).crawl(m).withPromise(),n=r.length,t=[],i;for(let o=0;o<n;o++)i=r[o],i.includes("tsconfig")&&i.includes("json")&&t.push(i);return{languageOptions:{parserOptions:{project:t}}}}import{open as re}from"node:fs/promises";async function w(){let e,r=[];try{e=await re(`${m}/.gitignore`,"r")}catch{return{ignores:r}}for await(let n of e.readLines())!n.length||n[0]==="#"||(n[0]==="*"&&n[1]==="."?r.push(n,`**/${n}`):r.push(n,n[0]==="!"||n[0]==="/"?`${n}/**`:`**/${n}/**`));return await e.close(),{ignores:[...new Set(r)]}}import{dirname as ae}from"node:path";import{fileURLToPath as fe}from"node:url";var ne=["angular","web","cypress","format","fp","jest","json","node","react","base","test-base","test-angular","test-web","test-react","test-vue","tsdoc","vitest","vue"];function j(e){return ne.includes(e)}function c(e){return e?Array.isArray(e)?e:[e]:[]}function p(e,r){return Array.prototype.push.apply(e,r),e}function M(e,r){let n=e.length,t=new Array(n);for(let i=0;i<n;i++)t[i]=e[i][r]??{};return t}function ie(e,r,n){if(r[n]){let t=e[n]?.slice()??[];p(t,r[n]),e[n]=t}}function oe(e,r){e.languageOptions=Object.assign({},...M(r,"languageOptions"));let n=r.length,t=c(e.languageOptions.globals),i;for(let o=0;o<n;o++)i=r[o],i.languageOptions?.globals&&p(t,c(i.languageOptions.globals))}var se=["apply","linterOptions","plugins","settings"],le=["files","ignores","rules","processor"];function d(...e){let r=Object.assign({},v);if(!e.length)return r;oe(r,e);for(let i of se)r[i]=Object.assign({},...M(e,i));let n=e.length,t;for(let i=0;i<n;i++){t=e[i];for(let o of le)ie(r,t,o)}return r}var b=new Map;async function _(e){if(b.has(e))return b.get(e);let r=await import(`file://${ae(fe(import.meta.url))}/profiles/${e}.js`);return b.set(e,r.config),r.default??r.config}function pe(e){let r={};return e.parserOptions?r={parserOptions:e.parserOptions}:e.languageOptions&&(r=e.languageOptions),{files:e.files,ignores:e.ignores,languageOptions:r,linterOptions:e.linterOptions,plugins:e.plugins,processor:e.processor?c(e.processor):void 0,settings:e.settings,rules:c(e.rules)}}async function ce(e,r){let n;if(typeof e=="string"&&j(e))if(b.has(e))n=b.get(e);else{let t=await _(e);Array.isArray(t)?(n=t.shift(),p(r,t)):n=t}else typeof e!="string"&&(n=pe(e));return n}async function W(e,r){if(!e.extends)return e;let n=e.extends.length,t=e,i;for(let o=0;o<n;o++)i=await ce(e.extends[o],r),i&&(i.extends&&(i=await W(i,r)),t=d(i,t),i=void 0);return t}async function ge(e){if(!e.length)return[];let r=[];for(let n=0;n<e.length;n++)r.push(await W(e[n],e));return r}async function k(e){let r=e.configs,n=r.length,t=new Array(n);for(let o=0;o<n;o++)t[o]=_(r[o]);let i=await Promise.all(t);return await ge(i.flat())}function A(e){return!!e.configs.recommended}function R(e){let r=Object.keys(e),n=r.length,t={plugins:{},rules:{}},i,o;for(let s=0;s<n;s++)i=r[s],o=e[i],t.plugins[i]=o,A(o)&&(t.rules=Object.assign(t.rules,o.configs.recommended.rules));return t}function T(e){return Object.hasOwn(e,"rules")||Object.hasOwn(e,"plugins")}function g(...e){return Object.assign({},...e)}function C(...e){let r=e.length,n=new Array(r),t;for(let i=r-1;i>=0;i--)t=e[i],n[i]=T(t)?t.rules:t;return g(...n)}function P(e,r){return e==="eslint"?r:`${e}/${r}`}function O(e,r){let n=e.length,t=r.length,i={},o,s;for(let a=0;a<t;a++)for(o=r[a],s=0;s<n;s++)i[P(o,e[s])]=0;return i}function u(e,r,n){let t=e.length,i=r.length,o=n.length,s={},a,l;for(let f=0;f<t;f++){for(a=e[f],l=0;l<i;l++)s[P(r[l],a)]=0;for(l=0;l<o;l++)s[P(n[l],a)]=2}return s}function E(e,r){let n=r.length;if(!n||!e.length)return e.slice();let t;for(let i=0;i<n;i++)if(t=e.indexOf(r[i]),t>-1&&e.splice(t,1),!e.length)return[];return e.slice()}var ue=["brace-style","no-extra-parens","object-curly-spacing","quote-props"],st=["array-bracket-newline","array-bracket-spacing","array-element-newline","max-attributes-per-line","singleline-html-element-content-newline"],V=[...ue,"arrow-parens","indent","semi","quotes","lines-around-comment","padding-line-between-statements","space-before-function-paren"],B=["class-methods-use-this","consistent-return","dot-notation","default-param-last","no-array-constructor","no-loop-func","no-loss-of-precision","no-redeclare","no-throw-literal","no-unused-vars","no-unused-expressions","no-use-before-define","no-useless-constructor","require-await"],F=["comma-spacing","func-call-spacing","key-spacing","keyword-spacing","lines-between-class-members","no-extra-semi","space-before-blocks","space-infix-ops"],D=["type-annotation-spacing"],lt=[...E(F,["lines-between-class-members","no-extra-semi","space-before-blocks"]),"block-spacing","func-call-spacing"],H=["arrow-spacing","eol-last","no-trailing-spaces","space-in-parens"],at=["jsx-closing-bracket-location","jsx-closing-tag-location","jsx-equals-spacing","jsx-indent","jsx-indent-props","jsx-no-multi-spaces","jsx-self-closing-comp","jsx-tag-spacing","jsx-wrap-multilines"];function S(e){let r=new Map,n=e.length,t=`merged-processor:${e[0].meta?.name??"unknown"}`;for(let i=1;i<n;i++)t=`${t}+${e[i].meta?.name??"unknown"}`;return{meta:{name:t},supportsAutofix:!0,preprocess(i,o){let s=new Array(n),a=[];r.set(o,s);let l;for(let f=0;f<n;f++)l=e[f].preprocess?.(i,o)??[],s[f]=l.length,p(a,l);return a},postprocess(i,o){let s=r.get(o),a=[];r.delete(o);let l=0,f;for(let h=0;h<n;h++)f=i.slice(l,l+s[h]),l+=s[h],p(a,e[h].postprocess?.(f,o)??[]);return a}}}function me(){return[O(V,["eslint","@typescript-eslint","@stylistic/ts"]),u(B,["eslint"],["@typescript-eslint"]),u(F,["eslint","@typescript-eslint"],["@stylistic/ts"]),u(H,["eslint"],["@stylistic/js"]),u(D,["@typescript-eslint"],["@stylistic/ts"])]}function $(e){let r=e.length,n=new Array(r),t,i;for(let o=0;o<r;o++)t=e[o],i=t.apply?R(t.apply):{},i.files=t.files,i.ignores=t.ignores,t.languageOptions&&(i.languageOptions=t.languageOptions,i.languageOptions.globals=g(...new Set(c(t.languageOptions.globals)))),i.linterOptions=t.linterOptions,i.settings=t.settings,t.processor&&(i.processor=S(t.processor)),i.plugins=g(i.plugins??{},t.plugins??{}),i.rules=C(i.rules??{},...t.rules??[]),o===0&&(i.rules=C(i.rules,...me())),n[o]=i;return n}var kt=["**/node_modules","**/dist","**/build","**/bin","**/package-lock.json","**/yarn.lock","**/pnpm-lock.yaml","**/bun.lockb","**/output","**/coverage","**/temp","**/.temp","**/tmp","**/.tmp","**/.history","**/.vitepress/cache","**/.nuxt","**/.next","**/.vercel","**/.changeset","**/.idea","**/.vscode","**/.cache","**/.env","**/.output","**/.vite-inspect","**/.yarn","**/CHANGELOG*.md","**/*.min.*","**/LICENSE*","**/__snapshots__","**/*.d.ts"],y="?([cm])[jt]s?(x)",At="**/*.{c,le,sc,sa}ss",Tt=`**/*${y}`,Et=[`**/__tests__/**/*.${y}`,`**/*.spec.${y}`,`**/*.test.${y}`,`**/*.bench.${y}`,`**/*.benchmark.${y}`];var de={configs:["base"],prettier:!0,gitignore:!0,eslintignore:!0};async function Pe(e){let r=Object.assign({},de,e);if(!r.configs.length)return[];let n=[k(r),L()];r.prettier&&n.push(x()),r.gitignore&&n.push(w());let t=await Promise.all(n),i=t.shift();return i.unshift(d(i.shift(),...t)),$(i)}export{H as DeprecatedStyleList,v as EmptyProfileConfig,F as EsStyleReplaceList,B as EsTsReplaceList,kt as ExcludeGlobs,y as ExtensionGlob,V as GeneralBanList,at as JsxStyleReplaceList,Tt as SrcGlob,At as StyleGlob,lt as StyleVueReplaceList,Et as TestGlobs,D as TsStyleReplaceList,ue as VueBanList,st as VueStyleBanList,R as apply,x as applyPrettier,O as ban,m as cwd,Pe as default,L as findTSConfigs,g as merge,p as mergeArr,d as mergeConfig,S as mergeProcessors,C as mergeRules,w as parseGitignore,u as replace};
//# sourceMappingURL=index.js.map
