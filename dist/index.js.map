{
  "version": 3,
  "sources": ["../src/utils/hasRecommendedConfig.ts", "../src/apply.ts", "../src/applyPrettier.ts", "../src/constants.ts", "../src/utils/handleRuleName.ts", "../src/ban.ts", "../src/deleteRules.ts", "../src/replace.ts", "../src/except.ts", "../src/lists.ts"],
  "sourcesContent": ["import type { Plugin } from '../types'\r\n\r\nexport default function hasRecommendedConfig(plugin: Plugin): boolean {\r\n    return !!plugin.configs.recommended\r\n}\r\n", "import type { Config, Plugin } from './types'\r\nimport hasRecommendedConfig from './utils/hasRecommendedConfig'\r\n\r\nexport default function apply(pluginMap: Record<string, Plugin>): Config {\r\n    const keys = Object.keys(pluginMap)\r\n    const len = keys.length\r\n    const config: Config = { plugins: {}, rules: {} }\r\n    let key: string, plugin: Plugin\r\n    for (let i = 0; i < len; i++) {\r\n        key = keys[i]\r\n        plugin = pluginMap[key]\r\n        config.plugins[key] = plugin\r\n        if (hasRecommendedConfig(plugin)) config.rules = Object.assign(config.rules, plugin.configs.recommended.rules)\r\n    }\r\n    return config\r\n}\r\n", "import { open, type FileHandle } from 'node:fs/promises'\r\nimport { cwd } from './constants'\r\nimport type { ArrayOption, RuleValue, Rules } from './types'\r\n\r\nconst prettierRuleDict: Record<string, string> = {\r\n    arrowParens: 'arrow-parens',\r\n    bracketSpacing: 'block-spacing',\r\n    endOfLine: 'linebreak-style',\r\n    quoteProps: 'quote-props',\r\n    semi: 'semi',\r\n    singleQuote: 'quotes',\r\n    trailingComma: 'comma-dangle'\r\n}\r\n\r\nconst tsOverrides = ['block-spacing', 'comma-dangle', 'quotes', 'quote-props']\r\n\r\nconst maxLenDict: Record<string, string> = {\r\n    printWidth: 'code',\r\n    tabWidth: 'tabWidth'\r\n}\r\n\r\nconst numericalRules = ['printWidth', 'tabWidth']\r\nconst banWords = ['avoid', 'false', 'none', 'preserve']\r\nconst ignore = [\r\n    'plugins',\r\n    'bracketSameLine',\r\n    'parser',\r\n    'editorconfig',\r\n    'embeddedLanguageFormatting',\r\n    'experimentalTernaries',\r\n    'jsxBracketSameLine',\r\n    'jsxSingleQuote',\r\n    'singleAttributePerLine',\r\n    'useTabs',\r\n    'vueIndentScriptAndStyle',\r\n    'htmlWhitespaceSensitivity',\r\n    'proseWrap',\r\n    'insertPragma',\r\n    'requirePragma',\r\n    'filepath',\r\n    'rangeStart',\r\n    'rangeEnd'\r\n]\r\nconst stringRegex = /(?<=\")(.*?)(?=\")/g\r\nconst numberRegex = /(\\d+)/g\r\nconst jsPlugin = '@stylistic/js'\r\nconst tsPlugin = '@stylistic/ts'\r\nconst measureRule = `${jsPlugin}/max-len`\r\n\r\nfunction handleMeasurements(rules: Rules, rule: string, line: string): void {\r\n    let value: ArrayOption | undefined = rules[measureRule] as ArrayOption | undefined\r\n    // init the value\r\n    if (!value) value = rules[measureRule] = [2, {}]\r\n    // get the rule from the prettier - max-len dict\r\n    value[1][maxLenDict[rule]] = +numberRegex.exec(line)![0]\r\n}\r\n\r\nfunction handleValue(line: string): string {\r\n    stringRegex.lastIndex = line.indexOf(':') + 1\r\n    const value = stringRegex.exec(line)\r\n    if (value !== null) return value[0]\r\n    return line.includes('true') ? 'true' : 'false'\r\n}\r\n\r\nfunction mapToEslint(rules: Rules, rule: string, line: string): void {\r\n    const value = handleValue(line)\r\n    const isFalseValue = banWords.includes(value)\r\n    const convertedRule = prettierRuleDict[rule]\r\n    const usedPlugin = tsOverrides.includes(convertedRule) ? tsPlugin : jsPlugin\r\n    const eslintRule = `${usedPlugin}/${convertedRule}`\r\n    let eslintValue: RuleValue = 0\r\n    switch (convertedRule) {\r\n        case 'block-spacing':\r\n            eslintValue = [2, isFalseValue ? 'never' : 'always']\r\n            rules[`${usedPlugin}/object-curly-spacing`] = eslintValue\r\n            break\r\n        case 'arrow-parens':\r\n        case 'quote-props':\r\n            // arrowParens only has the options \"avoid\" and \"always\". \"consistent\" is eslint-only\r\n            // quote-props only accepts \"consistent\" and \"as-needed\" from prettier. \"preserve\" is to turn it off.\r\n            eslintValue = isFalseValue ? 0 : [2, value]\r\n            break\r\n        case 'semi':\r\n            eslintValue = [2, isFalseValue ? 'never' : 'always']\r\n            break\r\n        case 'quotes':\r\n            eslintValue = [2, isFalseValue ? 'double' : 'single', { avoidEscape: true }]\r\n            break\r\n        case 'comma-dangle':\r\n            if (isFalseValue) eslintValue = [2, 'never']\r\n            else eslintValue = [2, value === 'all' ? 'always' : 'only-multiline']\r\n            break\r\n        case 'linebreak-style':\r\n            eslintValue = [2, value === 'lf' ? 'unix' : 'windows']\r\n            break\r\n        default:\r\n            throw new Error(`Unknown prettier option ${rule}.`)\r\n    }\r\n    rules[eslintRule] = eslintValue\r\n}\r\n\r\nexport default async function applyPrettier(): Promise<Rules> {\r\n    let file: FileHandle\r\n    const rules: Rules = {}\r\n    try {\r\n        file = await open(`${cwd}/.prettierrc`, 'r')\r\n    } catch (err) {\r\n        return rules\r\n    }\r\n    let match: RegExpMatchArray | null, rule: string\r\n    for await (const line of file.readLines()) {\r\n        match = stringRegex.exec(line)\r\n        if (!match) continue\r\n        rule = match[0]\r\n        if (!ignore.includes(rule)) {\r\n            // Handle numerical rules. Those are measurement rules\r\n            if (numericalRules.includes(rule)) {\r\n                handleMeasurements(rules, rule, line)\r\n                numberRegex.lastIndex = 0\r\n            } else mapToEslint(rules, rule, line)\r\n        }\r\n        stringRegex.lastIndex = 0\r\n    }\r\n    console.log(rules)\r\n    await file.close()\r\n    return rules\r\n}\r\n", "export const cwd = process.cwd()\r\n", "export default function handleRuleName(pluginTag: string, rule: string): string {\r\n    return pluginTag === 'eslint' ? rule : `${pluginTag}/${rule}`\r\n}\r\n", "import handleRuleName from './utils/handleRuleName'\r\n\r\nexport default function ban(rules: string[], plugins: string[]): Record<string, number> {\r\n    const ruleLen = rules.length\r\n    const pluginLen = plugins.length\r\n    const obj: Record<string, number> = {}\r\n\r\n    let pluginTag: string, j: number\r\n    for (let i = 0; i < pluginLen; i++) {\r\n        pluginTag = plugins[i]\r\n        for (j = 0; j < ruleLen; j++) obj[handleRuleName(pluginTag, rules[j])] = 0\r\n    }\r\n\r\n    return obj\r\n}\r\n", "import type { Config } from './types'\r\n\r\nexport default function deleteRules(config: Config, rules: string[]): void {\r\n    for (let i = rules.length - 1; i >= 0; i--) delete config.rules[rules[i]]\r\n}\r\n", "import handleRuleName from './utils/handleRuleName'\r\n\r\nexport default function replace(rules: string[], from: string[], to: string[]): Record<string, number> {\r\n    const rulesLen = rules.length\r\n    const fromLen = from.length\r\n    const toLen = to.length\r\n    const obj: Record<string, number> = {}\r\n\r\n    let rule: string, j: number\r\n    for (let i = 0; i < rulesLen; i++) {\r\n        rule = rules[i]\r\n\r\n        for (j = 0; j < fromLen; j++) obj[handleRuleName(from[j], rule)] = 0\r\n        for (j = 0; j < toLen; j++) obj[handleRuleName(to[j], rule)] = 2\r\n    }\r\n\r\n    return obj\r\n}\r\n", "export default function except<T>(array: T[], elementsToRemove: T[]): T[] {\r\n    const elLen = elementsToRemove.length\r\n    if (!elLen || !array.length) return array.slice()\r\n\r\n    let index: number\r\n    for (let i = 0; i < elLen; i++) {\r\n        index = array.indexOf(elementsToRemove[i])\r\n        if (index > -1) array.splice(index, 1)\r\n        if (!array.length) return []\r\n    }\r\n    return array.slice()\r\n}\r\n", "import except from './except'\r\n\r\nexport const VueBanList = ['brace-style', 'no-extra-parens', 'object-curly-spacing', 'quote-props']\r\n\r\nexport const VueStyleBanList = [\r\n    'array-bracket-newline',\r\n    'array-bracket-spacing',\r\n    'array-element-newline',\r\n    'max-attributes-per-line',\r\n    'singleline-html-element-content-newline'\r\n]\r\n/**\r\n *  Ban list to ban rules from:\r\n *  - eslint\r\n *  - typescript-eslint\r\n *  - eslint-stylistic\r\n *  - babel\r\n *  - vue\r\n */\r\nexport const GeneralBanList = [\r\n    ...VueBanList,\r\n    'arrow-parens',\r\n    'indent',\r\n    'semi',\r\n    'quotes',\r\n    'lines-around-comment',\r\n    'padding-line-between-statements',\r\n    'space-before-function-paren'\r\n]\r\n\r\n/*\r\n *  Rules from Eslint to Replace with TypeScriptEslint equivalents\r\n */\r\nexport const EsTsReplaceList = [\r\n    'class-methods-use-this',\r\n    'consistent-return',\r\n    'dot-notation',\r\n    'func-call-spacing',\r\n    'no-array-constructor',\r\n    'no-dupe-class-members', // doesn't understand overloads\r\n    'no-loss-of-precision',\r\n    'no-redeclare',\r\n    'no-throw-literal',\r\n    'no-unused-vars', // doesn't understand enums\r\n    'no-unused-expressions',\r\n    'no-use-before-define', // confuses type declarations with definitions\r\n    'no-useless-constructor',\r\n    'require-await'\r\n]\r\n\r\n/*\r\n *  Rules to replace rules from Babel, Eslint, TypeScriptEslint for Eslint Stylistic equivalents\r\n */\r\nexport const EsStyleReplaceList = [\r\n    'comma-dangle',\r\n    'comma-spacing',\r\n    'key-spacing',\r\n    'keyword-spacing',\r\n    'lines-between-class-members',\r\n    'no-extra-semi',\r\n    'space-before-blocks',\r\n    'space-infix-ops'\r\n]\r\n\r\n/*\r\n *  Replaces the rules from @stylistic/ts for the eslint-plugin-vue equivalents in the vue profile.\r\n */\r\nexport const StyleVueReplaceList = [\r\n    ...except(EsStyleReplaceList, ['lines-between-class-members', 'no-extra-semi', 'space-before-blocks']),\r\n    'block-spacing',\r\n    'func-call-spacing'\r\n]\r\n\r\n/**\r\n *  Eslint rules that are now deprecated in favor of @stylistic/js\r\n */\r\nexport const DeprecatedStyleList = ['arrow-spacing', 'eol-last', 'no-trailing-spaces', 'space-in-parens']\r\n\r\nexport const JsxStyleReplaceList = [\r\n    'jsx-closing-bracket-location',\r\n    'jsx-closing-tag-location',\r\n    'jsx-equals-spacing',\r\n    'jsx-indent',\r\n    'jsx-indent-props',\r\n    'jsx-no-multi-spaces',\r\n    'jsx-self-closing-comp',\r\n    'jsx-tag-spacing',\r\n    'jsx-wrap-multilines'\r\n]\r\n"],
  "mappings": "AAEe,SAARA,EAAsCC,EAAyB,CAClE,MAAO,CAAC,CAACA,EAAO,QAAQ,WAC5B,CCDe,SAARC,EAAuBC,EAA2C,CACrE,IAAMC,EAAO,OAAO,KAAKD,CAAS,EAC5BE,EAAMD,EAAK,OACXE,EAAiB,CAAE,QAAS,CAAC,EAAG,MAAO,CAAC,CAAE,EAC5CC,EAAaC,EACjB,QAAS,EAAI,EAAG,EAAIH,EAAK,IACrBE,EAAMH,EAAK,CAAC,EACZI,EAASL,EAAUI,CAAG,EACtBD,EAAO,QAAQC,CAAG,EAAIC,EAClBC,EAAqBD,CAAM,IAAGF,EAAO,MAAQ,OAAO,OAAOA,EAAO,MAAOE,EAAO,QAAQ,YAAY,KAAK,GAEjH,OAAOF,CACX,CCfA,OAAS,QAAAI,MAA6B,mBCA/B,IAAMC,EAAM,QAAQ,IAAI,EDI/B,IAAMC,EAA2C,CAC7C,YAAa,eACb,eAAgB,gBAChB,UAAW,kBACX,WAAY,cACZ,KAAM,OACN,YAAa,SACb,cAAe,cACnB,EAEMC,EAAc,CAAC,gBAAiB,eAAgB,SAAU,aAAa,EAEvEC,EAAqC,CACvC,WAAY,OACZ,SAAU,UACd,EAEMC,EAAiB,CAAC,aAAc,UAAU,EAC1CC,EAAW,CAAC,QAAS,QAAS,OAAQ,UAAU,EAChDC,EAAS,CACX,UACA,kBACA,SACA,eACA,6BACA,wBACA,qBACA,iBACA,yBACA,UACA,0BACA,4BACA,YACA,eACA,gBACA,WACA,aACA,UACJ,EACMC,EAAc,oBACdC,EAAc,SACdC,EAAW,gBACXC,EAAW,gBACXC,EAAc,GAAGF,CAAQ,WAE/B,SAASG,EAAmBC,EAAcC,EAAcC,EAAoB,CACxE,IAAIC,EAAiCH,EAAMF,CAAW,EAEjDK,IAAOA,EAAQH,EAAMF,CAAW,EAAI,CAAC,EAAG,CAAC,CAAC,GAE/CK,EAAM,CAAC,EAAEb,EAAWW,CAAI,CAAC,EAAI,CAACN,EAAY,KAAKO,CAAI,EAAG,CAAC,CAC3D,CAEA,SAASE,EAAYF,EAAsB,CACvCR,EAAY,UAAYQ,EAAK,QAAQ,GAAG,EAAI,EAC5C,IAAMC,EAAQT,EAAY,KAAKQ,CAAI,EACnC,OAAIC,IAAU,KAAaA,EAAM,CAAC,EAC3BD,EAAK,SAAS,MAAM,EAAI,OAAS,OAC5C,CAEA,SAASG,EAAYL,EAAcC,EAAcC,EAAoB,CACjE,IAAMC,EAAQC,EAAYF,CAAI,EACxBI,EAAed,EAAS,SAASW,CAAK,EACtCI,EAAgBnB,EAAiBa,CAAI,EACrCO,EAAanB,EAAY,SAASkB,CAAa,EAAIV,EAAWD,EAC9Da,EAAa,GAAGD,CAAU,IAAID,CAAa,GAC7CG,EAAyB,EAC7B,OAAQH,EAAe,CACnB,IAAK,gBACDG,EAAc,CAAC,EAAGJ,EAAe,QAAU,QAAQ,EACnDN,EAAM,GAAGQ,CAAU,uBAAuB,EAAIE,EAC9C,MACJ,IAAK,eACL,IAAK,cAGDA,EAAcJ,EAAe,EAAI,CAAC,EAAGH,CAAK,EAC1C,MACJ,IAAK,OACDO,EAAc,CAAC,EAAGJ,EAAe,QAAU,QAAQ,EACnD,MACJ,IAAK,SACDI,EAAc,CAAC,EAAGJ,EAAe,SAAW,SAAU,CAAE,YAAa,EAAK,CAAC,EAC3E,MACJ,IAAK,eACGA,EAAcI,EAAc,CAAC,EAAG,OAAO,EACtCA,EAAc,CAAC,EAAGP,IAAU,MAAQ,SAAW,gBAAgB,EACpE,MACJ,IAAK,kBACDO,EAAc,CAAC,EAAGP,IAAU,KAAO,OAAS,SAAS,EACrD,MACJ,QACI,MAAM,IAAI,MAAM,2BAA2BF,CAAI,GAAG,CAC1D,CACAD,EAAMS,CAAU,EAAIC,CACxB,CAEA,eAAOC,GAAuD,CAC1D,IAAIC,EACEZ,EAAe,CAAC,EACtB,GAAI,CACAY,EAAO,MAAMC,EAAK,GAAGC,CAAG,eAAgB,GAAG,CAC/C,MAAc,CACV,OAAOd,CACX,CACA,IAAIe,EAAgCd,EACpC,cAAiBC,KAAQU,EAAK,UAAU,EACpCG,EAAQrB,EAAY,KAAKQ,CAAI,EACxBa,IACLd,EAAOc,EAAM,CAAC,EACTtB,EAAO,SAASQ,CAAI,IAEjBV,EAAe,SAASU,CAAI,GAC5BF,EAAmBC,EAAOC,EAAMC,CAAI,EACpCP,EAAY,UAAY,GACrBU,EAAYL,EAAOC,EAAMC,CAAI,GAExCR,EAAY,UAAY,GAE5B,eAAQ,IAAIM,CAAK,EACjB,MAAMY,EAAK,MAAM,EACVZ,CACX,CE9He,SAARgB,EAAgCC,EAAmBC,EAAsB,CAC5E,OAAOD,IAAc,SAAWC,EAAO,GAAGD,CAAS,IAAIC,CAAI,EAC/D,CCAe,SAARC,EAAqBC,EAAiBC,EAA2C,CACpF,IAAMC,EAAUF,EAAM,OAChBG,EAAYF,EAAQ,OACpBG,EAA8B,CAAC,EAEjCC,EAAmBC,EACvB,QAASC,EAAI,EAAGA,EAAIJ,EAAWI,IAE3B,IADAF,EAAYJ,EAAQM,CAAC,EAChBD,EAAI,EAAGA,EAAIJ,EAASI,IAAKF,EAAII,EAAeH,EAAWL,EAAMM,CAAC,CAAC,CAAC,EAAI,EAG7E,OAAOF,CACX,CCZe,SAARK,EAA6BC,EAAgBC,EAAuB,CACvE,QAASC,EAAID,EAAM,OAAS,EAAGC,GAAK,EAAGA,IAAK,OAAOF,EAAO,MAAMC,EAAMC,CAAC,CAAC,CAC5E,CCFe,SAARC,EAAyBC,EAAiBC,EAAgBC,EAAsC,CACnG,IAAMC,EAAWH,EAAM,OACjBI,EAAUH,EAAK,OACfI,EAAQH,EAAG,OACXI,EAA8B,CAAC,EAEjCC,EAAcC,EAClB,QAASC,EAAI,EAAGA,EAAIN,EAAUM,IAAK,CAG/B,IAFAF,EAAOP,EAAMS,CAAC,EAETD,EAAI,EAAGA,EAAIJ,EAASI,IAAKF,EAAII,EAAeT,EAAKO,CAAC,EAAGD,CAAI,CAAC,EAAI,EACnE,IAAKC,EAAI,EAAGA,EAAIH,EAAOG,IAAKF,EAAII,EAAeR,EAAGM,CAAC,EAAGD,CAAI,CAAC,EAAI,CACnE,CAEA,OAAOD,CACX,CCjBe,SAARK,EAA2BC,EAAYC,EAA4B,CACtE,IAAMC,EAAQD,EAAiB,OAC/B,GAAI,CAACC,GAAS,CAACF,EAAM,OAAQ,OAAOA,EAAM,MAAM,EAEhD,IAAIG,EACJ,QAASC,EAAI,EAAGA,EAAIF,EAAOE,IAGvB,GAFAD,EAAQH,EAAM,QAAQC,EAAiBG,CAAC,CAAC,EACrCD,EAAQ,IAAIH,EAAM,OAAOG,EAAO,CAAC,EACjC,CAACH,EAAM,OAAQ,MAAO,CAAC,EAE/B,OAAOA,EAAM,MAAM,CACvB,CCTO,IAAMK,EAAa,CAAC,cAAe,kBAAmB,uBAAwB,aAAa,EAErFC,EAAkB,CAC3B,wBACA,wBACA,wBACA,0BACA,yCACJ,EASaC,EAAiB,CAC1B,GAAGF,EACH,eACA,SACA,OACA,SACA,uBACA,kCACA,6BACJ,EAKaG,EAAkB,CAC3B,yBACA,oBACA,eACA,oBACA,uBACA,wBACA,uBACA,eACA,mBACA,iBACA,wBACA,uBACA,yBACA,eACJ,EAKaC,EAAqB,CAC9B,eACA,gBACA,cACA,kBACA,8BACA,gBACA,sBACA,iBACJ,EAKaC,GAAsB,CAC/B,GAAGC,EAAOF,EAAoB,CAAC,8BAA+B,gBAAiB,qBAAqB,CAAC,EACrG,gBACA,mBACJ,EAKaG,GAAsB,CAAC,gBAAiB,WAAY,qBAAsB,iBAAiB,EAE3FC,GAAsB,CAC/B,+BACA,2BACA,qBACA,aACA,mBACA,sBACA,wBACA,kBACA,qBACJ",
  "names": ["hasRecommendedConfig", "plugin", "apply", "pluginMap", "keys", "len", "config", "key", "plugin", "hasRecommendedConfig", "open", "cwd", "prettierRuleDict", "tsOverrides", "maxLenDict", "numericalRules", "banWords", "ignore", "stringRegex", "numberRegex", "jsPlugin", "tsPlugin", "measureRule", "handleMeasurements", "rules", "rule", "line", "value", "handleValue", "mapToEslint", "isFalseValue", "convertedRule", "usedPlugin", "eslintRule", "eslintValue", "applyPrettier", "file", "open", "cwd", "match", "handleRuleName", "pluginTag", "rule", "ban", "rules", "plugins", "ruleLen", "pluginLen", "obj", "pluginTag", "j", "i", "handleRuleName", "deleteRules", "config", "rules", "i", "replace", "rules", "from", "to", "rulesLen", "fromLen", "toLen", "obj", "rule", "j", "i", "handleRuleName", "except", "array", "elementsToRemove", "elLen", "index", "i", "VueBanList", "VueStyleBanList", "GeneralBanList", "EsTsReplaceList", "EsStyleReplaceList", "StyleVueReplaceList", "except", "DeprecatedStyleList", "JsxStyleReplaceList"]
}
